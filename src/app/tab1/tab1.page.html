<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Tab 1
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-grid>
    <ion-row>
      <ion-col size="11">
        <ion-searchbar placeholder="Buscar por nombre" (ionChange)="filterProduct($event)" #ionBusqueda></ion-searchbar>
      
      </ion-col>
      <ion-col size="1">
        <ion-fab>
          <ion-fab-button (click)="setOpen(true)">
            <ion-icon name="add"></ion-icon>
          </ion-fab-button>
        </ion-fab>
      </ion-col>

    </ion-row>
    <ion-row>
      <ion-col size="12">
        <ion-list #lisliding>
          <ion-item-sliding *ngFor="let item of fProductos">
            <ion-item>
              <div class="divContenido">
                <ion-col size="1">
                  <ion-avatar>
                    <img src="{{item.photo}}" />
                  </ion-avatar>
                </ion-col>
                <p class="pContenidoHijo">{{item.sku}}</p>
                <p class="pContenidoHijo">{{item.name}}</p>
                <p class="pContenidoHijo">{{item.price}}</p>
                <p class="pContenidoHijo">{{item.stock}}</p>
              </div>
            </ion-item>
              <ion-item-options side="end">
                  <ion-item-option color="success" expandable>
                      <ion-icon name="checkmark" ></ion-icon>
                  </ion-item-option>
              </ion-item-options>
          </ion-item-sliding>
      </ion-list>

      </ion-col>
    </ion-row>

    <ion-modal [isOpen]="isModalOpen" *ngIf="isContentLoaded">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-title>Agregar Producto</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="setOpen(false)">Cancelar</ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content class="ion-padding"><!--
              sku: string; -
              name: string; -
              description?: string -
              price: number; -
              category?: Category; -
              calification?: Calification[];
              discount: boolean; -
              discant?: number; -
              stock: number; -
              photo?: string; -
        -->
          <form [formGroup]="formProducto">
            <ion-list>
              <ion-item>
                <ion-input type="text" placeholder="SKU" formControlName="sku"></ion-input>
              </ion-item>
              <ion-item>
                <ion-input type="text" placeholder="NOMBRE" formControlName="name"></ion-input>
              </ion-item>
              <ion-item>
                <ion-input type="text" placeholder="DESCRIPCION" formControlName="description"></ion-input>
              </ion-item>
              <ion-item>
                <ion-input type="number" placeholder="PRECIO" formControlName="price"></ion-input>
              </ion-item>
              <ion-item>
                <ion-select interface="popover" placeholder="Selecciona una categoria" formControlName="category">
                    <ion-select-option *ngFor="let cat of categorias" [value]="cat">{{cat.idCategoryBK}}</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-input type="number" placeholder="STOCK" formControlName="stock"></ion-input>
              </ion-item>
              <ion-item>
                <ion-input type="text" placeholder="URL PHOTO" formControlName="photo"></ion-input>
              </ion-item>
            </ion-list>
            <ion-button color="success" expand="full"  (click)="newProduct()">
              ACEPTAR
            </ion-button>            
          </form>
        </ion-content>
      </ng-template>

    </ion-modal>
  </ion-grid>
</ion-content>
